let accdata=[
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/04/P00628145_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Floral silk minidress",
        price: 1005,
        cat: "Ring",
        qty: 1

    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/7f/P00636635_d2.jpg",
        name: "LOEWE",
        brand: "Sculptural leather mules",
        price: 825,
        cat: "Ring",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/2a/P00636544_d2.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 1059,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/89/P00636551_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit midi dress",
        price: 715,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/4f/P00636545_d2.jpg",
        name: "FRANKIE SHOP",
        brand: "Bourse nylon shoulder bag",
        price: 135,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/3b/P00651439_d2.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 775,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/57/P00633395_d2.jpg",
        name: "LOEWE",
        brand: "Printed canvas mules",
        price: 585,
        cat: "bangels",
        qty: 1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/a7/P00566568_b1.jpg",
        brand:"Floral silk minidress",
        name:"STELLA MCCARTNEY",
        price:95,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/44/P00640733_b1.jpg",
        name:"LOEWE",
        brand:"Sculptural leather mules",
        price: 825,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/5b/P00267859_b1.jpg",
        name:"THE ROW",
        brand:"Emy leather shoulder bag",
        price: 1059,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/64/P00591281_b1.jpg",
        name:"STELLA MCCARTNEY",
        brand:"Ribbed-knit midi dress",
        price: 715,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/c5/P00591274_b1.jpg",
        name:"FRANKIE SHOP",
        brand:"Bourse nylon shoulder bag",
        price: 135,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/b8/P00665723_b1.jpg",
        name:"THE ROW",
        brand:"Emy leather shoulder bag",
        price: 775,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/ee/P00498437_b1.jpg",
        name:"LOEWE",
        brand:"Printed canvas mules",
        price: 585,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/6c/P00653606_b1.jpg",
        name:"FRANKIE SHOP",
        brand:"Lui cotton shorts",
        price: 79,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/49/P00525738_b1.jpg",
        name:"STELLA MCCARTNEY",
        brand:"Floral silk maxi dress",
        price: 1005,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/560/560/33/jpeg/catalog/product/2f/P00660703_b1.jpg",
        name:"LOEWE",
        brand:"Caged platform sandals",
        price: 329,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/560/560/33/jpeg/catalog/product/6c/P00622379_d2.jpg",
        name:"STELLA MCCARTNEY",
        brand:"Floral silk minidress",
        price: 1005,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/media/static/raw/cms/l/CAT_BANNERS_SS22/CAT_BANNERS_Desktop_2x_26_20220228112046.jpg?imwidth=1180&imdensity=1",
        name:"LOEWE",
        brand:"Sculptural leather mules",
        price: 825,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/media/static/raw/cms/l/CAT_BANNERS_SS22/CAT_BANNERS_Desktop_2x_27_20220228112047.jpg?imwidth=1180&imdensity=1",
        name:"THE ROW",
        brand:"Emy leather shoulder bag",
        price: 1059,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/media/static/raw/cms/l/CAT_BANNERS_SS22/CAT_BANNERS_Desktop_2x_28_20220228112051.jpg?imwidth=1180&imdensity=1",
        name:"STELLA MCCARTNEY",
        brand:"Ribbed-knit midi dress",
        price: 715,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/10/P00581772_b1.jpg",
        name:"FRANKIE SHOP",
        brand:"Bourse nylon shoulder bag",
        price: 135,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/30/P00640370_b1.jpg",
        name:"THE ROW",
        brand:"Emy leather shoulder bag",
        price: 775,
        cat:"sandals",
        qty:1
    },
    {
        img:"https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/b7/P00220166_b1.jpg",
        name:"LOEWE",
        brand:"Printed canvas mules",
        price: 585,
        cat:"sandals",
        qty:1
    },
]



let jwlrdata = JSON.parse(localStorage.getItem("kids-NewArr")) || []
document.querySelector("#sort").addEventListener("change", function () {
    sortMe(accdata)
})
function sortMe(accdata) {
    let req = document.querySelector("#sort").value;
    if (req == "asc") {
        let asc = accdata.sort(function (a, b) {
            if (a.price > b.price) return 1
            if (a.price < b.price) return -1
            return 0
        })
        displayProducts(asc)
    }
    else if (req == "desc") {
        let desc = accdata.sort(function (a, b) {
            if (a.price > b.price) return -1
            if (a.price < b.price) return 1
            return 0
        })
        displayProducts(desc)
    }
}
displayProducts(accdata)
function displayProducts(accdata) {
    document.querySelector("#display").innerHTML = ""
    accdata.forEach(function (el) {
        let child_div = document.createElement("div")
        let holder = document.createElement("div")
        holder.setAttribute("class", "holder")
        let wish = document.createElement("button")
        let heart = document.createElement("i")
        heart.setAttribute("class", "fas fa-heart")
        wish.append(heart)
        wish.style.color = "grey"
        wish.setAttribute("class", "btn1")
        wish.addEventListener("click", function () {
            if (toggle(el, wish) == true) {
                alert("Item already extists in wishlist")
            }
            else {
                if (wish.style.color == "grey") {
                    wish.style.color = "red"
                }
                else {
                    wish.style.color = "grey"
                }
                jwlrdata.push(el)
                alert("added")
                localStorage.setItem("kids-NewArr", JSON.stringify(jwlrdata))
            }
        })
        holder.append(wish)
        let img = document.createElement("img")
        img.setAttribute("src", el.img)
        let brand = document.createElement("p")
        brand.innerText = el.brand;
        let name = document.createElement("p")
        name.innerText = el.name;
        let price = document.createElement("p")
        price.innerText = "â‚¬" + " " + el.price;
        child_div.append(holder, img, brand, name, price)
        document.querySelector("#display").append(child_div)
    });
}
function toggle(el, wish) {
    let filtered = jwlrdata.filter(function (elem) {
        return el.name == elem.name
    })
    if (filtered.length > 0) {
        return true
    }
    else {
        return false
    }
}
let sorting = document.querySelectorAll("#colour>input")
for (let i = 0; i < sorting.length; i++) {
    let c = sorting[i].value
    sorting[i].addEventListener("click", function () {
        colourSort(c)
    })
}
function colourSort(c) {
    console.log("hi")
    if (c === "All") {
        displayProducts(accdata)
    }
    else {
        let filtered = accdata.filter(function (el) {
            return el.color == c
        })
        if (filtered.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(filtered)
        }
    }
}
let sortingBrand = document.querySelectorAll("#designer>input")
for (let i = 0; i < sortingBrand.length; i++) {
    let b = sortingBrand[i].value
    console.log(b)
    sortingBrand[i].addEventListener("click", function () {
        brandSort(b)
    })
}
function brandSort(b) {
    if (b === "All") {
        displayProducts(accdata)
    }
    else {
        let brandFilter = accdata.filter(function (el) {
            return el.brand == b
        })
        if (brandFilter.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(brandFilter)
        }
    }
}
let sortingCat = document.querySelectorAll("#category>input")
for (let i = 0; i < sortingCat.length; i++) {
    let s = sortingCat[i].value
    sortingCat[i].addEventListener("click", function () {
        catSort(s)
    })
}
function catSort(s) {
    if (s === "All") {
        displayProducts(accdata)
    }
    else {
        let catFilter = accdata.filter(function (el) {
            return el.cat == s
        })
        if (catFilter.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(catFilter)
        }
    }
}