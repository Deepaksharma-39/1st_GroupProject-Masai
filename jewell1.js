let jewelData = [
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/04/P00628145_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Floral silk minidress",
        price: 1005,
        cat: "Ring",
        qty: 1

    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/7f/P00636635_d2.jpg",
        name: "LOEWE",
        brand: "Sculptural leather mules",
        price: 825,
        cat: "Ring",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/2a/P00636544_d2.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 1059,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/89/P00636551_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit midi dress",
        price: 715,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/4f/P00636545_d2.jpg",
        name: "FRANKIE SHOP",
        brand: "Bourse nylon shoulder bag",
        price: 135,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/3b/P00651439_d2.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 775,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/57/P00633395_d2.jpg",
        name: "LOEWE",
        brand: "Printed canvas mules",
        price: 585,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/6e/P00633514_d2.jpg",
        name: "FRANKIE SHOP",
        brand: "Lui cotton shorts",
        price: 79,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/b5/P00633308.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Floral silk maxi dress",
        price: 1005,
        cat: "bangels",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/c9/P00665149_d2.jpg",
        name: "LOEWE",
        brand: "Caged platform sandals",
        price: 329,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/75/P00537416_d2.jpg",
        name: "THE ROW",
        brand: "Park Large nylon tote bag",
        price: 725,
        cat: "Ring",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/1b/P00641691_d2.jpg",
        name: "ETRO",
        brand: "Floral midi dress",
        price: 1015,
        cat: "Ring",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/39/P00658397_d2.jpg",
        name: "ETRO",
        brand: "Floral silk crêpe de chine minidres",
        price: 1425,
        cat: "Ring",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/39/P00658397_d2.jpg",
        name: "AQUAZZURA",
        brand: "Moondust embellished leather slides",
        price: 585,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/55/P00601107_d2.jpg",
        name: "LOEWE",
        brand: "Caged platform sandals",
        price: 329,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/f3/P00641689.jpg",
        name: "PETAR PETROV",
        brand: "Finley cashmere and silk",
        price: 749,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/4f/P00625693_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit sweater",
        price: 585,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/eb/P00601105_d2.jpg",
        name: "ETRO",
        brand: "Paisley jacquard shopper",
        price: 429,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/12/P00630714_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Falabella faux leather mules",
        price: 505,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/fa/P00628116_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit midi skirt",
        price: 635,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/23/P00627802_d2.jpg",
        name: "PETAR PETROV",
        brand: "Flavia cashmere and silk midi dress",
        price: 755,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/9d/P00641687_d2.jpg",
        name: "THE ROW",
        brand: "Park Large nylon tote bag",
        price: 725,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/66/P00646986_d2.jpg",
        name: "MALONE SOULIERS",
        brand: "Perla metallic leather mules",
        price: 379,
        cat: "neckles",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/46/P00627320_d2.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Sequined minidress",
        price: 925,
        cat: "neckles",
        qty: 1
    },






]



let jwlrdata = JSON.parse(localStorage.getItem("CartArray")) || []
document.querySelector("#sort").addEventListener("change", function () {
    sortMe(jewelData)
})
function sortMe(jewelData) {
    let req = document.querySelector("#sort").value;
    if (req == "asc") {
        let asc = jewelData.sort(function (a, b) {
            if (a.price > b.price) return 1
            if (a.price < b.price) return -1
            return 0
        })
        displayProducts(asc)
    }
    else if (req == "desc") {
        let desc = jewelData.sort(function (a, b) {
            if (a.price > b.price) return -1
            if (a.price < b.price) return 1
            return 0
        })
        displayProducts(desc)
    }
}
displayProducts(jewelData)
function displayProducts(jewelData) {
    document.querySelector("#display").innerHTML = ""
    jewelData.forEach(function (el) {
        let child_div = document.createElement("div")
        let holder = document.createElement("div")
        holder.setAttribute("class", "holder")
        let wish = document.createElement("button")
        let heart = document.createElement("i")
        heart.setAttribute("class", "fas fa-heart")
        wish.append(heart)
        wish.style.color = "grey"
        wish.setAttribute("class", "btn1")
        wish.addEventListener("click", function () {
            if (toggle(el, wish) == true) {
                alert("Item already extists in wishlist")
            }
            else {
                if (wish.style.color == "grey") {
                    wish.style.color = "red"
                }
                else {
                    wish.style.color = "grey"
                }
                jwlrdata.push(el)
                alert("added")
                localStorage.setItem("CartArray", JSON.stringify(jwlrdata))
            }
        })
        holder.append(wish)
        let img = document.createElement("img")
        img.setAttribute("src", el.img)
        let brand = document.createElement("p")
        brand.innerText = el.brand;
        let name = document.createElement("p")
        name.innerText = el.name;
        let price = document.createElement("p")
        price.innerText = "€" + " " + el.price;
        child_div.append(holder, img, brand, name, price)
        document.querySelector("#display").append(child_div)
    });
}
function toggle(el, wish) {
    let filtered = jwlrdata.filter(function (elem) {
        return el.name == elem.name
    })
    if (filtered.length > 0) {
        return true
    }
    else {
        return false
    }
}
let sorting = document.querySelectorAll("#colour>input")
for (let i = 0; i < sorting.length; i++) {
    let c = sorting[i].value
    sorting[i].addEventListener("click", function () {
        colourSort(c)
    })
}
function colourSort(c) {
    console.log("hi")
    if (c === "All") {
        displayProducts(jewelData)
    }
    else {
        let filtered = jewelData.filter(function (el) {
            return el.color == c
        })
        if (filtered.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(filtered)
        }
    }
}
let sortingBrand = document.querySelectorAll("#designer>input")
for (let i = 0; i < sortingBrand.length; i++) {
    let b = sortingBrand[i].value
    console.log(b)
    sortingBrand[i].addEventListener("click", function () {
        brandSort(b)
    })
}
function brandSort(b) {
    if (b === "All") {
        displayProducts(jewelData)
    }
    else {
        let brandFilter = jewelData.filter(function (el) {
            return el.brand == b
        })
        if (brandFilter.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(brandFilter)
        }
    }
}
let sortingCat = document.querySelectorAll("#category>input")
for (let i = 0; i < sortingCat.length; i++) {
    let s = sortingCat[i].value
    sortingCat[i].addEventListener("click", function () {
        catSort(s)
    })
}
function catSort(s) {
    if (s === "All") {
        displayProducts(jewelData)
    }
    else {
        let catFilter = jewelData.filter(function (el) {
            return el.cat == s
        })
        if (catFilter.length == 0) {
            alert("No products found")
        }
        else {
            displayProducts(catFilter)
        }
    }
}