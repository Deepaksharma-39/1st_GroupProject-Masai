let bagsData = [
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/a7/P00566568_b1.jpg",
        brand: "Floral silk minidress",
        name: "STELLA MCCARTNEY",
        price: 95,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/44/P00640733_b1.jpg",
        name: "LOEWE",
        brand: "Sculptural leather mules",
        price: 825,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/5b/P00267859_b1.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 1059,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/64/P00591281_b1.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit midi dress",
        price: 715,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/c5/P00591274_b1.jpg",
        name: "FRANKIE SHOP",
        brand: "Bourse nylon shoulder bag",
        price: 135,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/b8/P00665723_b1.jpg",
        name: "THE ROW",
        brand: "Emy leather shoulder bag",
        price: 775,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/ee/P00498437_b1.jpg",
        name: "LOEWE",
        brand: "Printed canvas mules",
        price: 585,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/6c/P00653606_b1.jpg",
        name: "FRANKIE SHOP",
        brand: "Lui cotton shorts",
        price: 79,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/1000/1000/95/jpeg/catalog/product/49/P00525738_b1.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Floral silk maxi dress",
        price: 1005,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/2f/P00660703_b1.jpg",
        name: "LOEWE",
        brand: "Caged platform sandals",
        price: 329,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/da/P00657414_b1.jpg",
        name: "THE ROW",
        brand: "Park Large nylon tote bag",
        price: 725,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/4c/P00651976_b1.jpg",
        name: "ETRO",
        brand: "Floral midi dress",
        price: 1015,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/88/P00451085_b1.jpg",
        name: "ETRO",
        brand: "Floral silk crêpe de chine minidres",
        price: 1425,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/5a/P00634463_b1.jpg",
        name: "AQUAZZURA",
        brand: "Moondust embellished leather slides",
        price: 585,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/3b/P00651966_b1.jpg",
        name: "LOEWE",
        brand: "Caged platform sandals",
        price: 329,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/5a/P00634487_b1.jpg",
        name: "PETAR PETROV",
        brand: "Finley cashmere and silk",
        price: 749,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/22/P00633293_b1.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit sweater",
        price: 585,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/c2/P00633292_b1.jpg",
        name: "ETRO",
        brand: "Paisley jacquard shopper",
        price: 429,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/b6/P00633291_b1.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Falabella faux leather mules",
        price: 505,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/59/P00634466_b1.jpg",
        name: "STELLA MCCARTNEY",
        brand: "Ribbed-knit midi skirt",
        price: 635,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/8e/P00636803_b1.jpg",
        name: "PETAR PETROV",
        brand: "Flavia cashmere and silk midi dress",
        price: 755,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/8e/P00644402_b1.jpg",
        name: "THE ROW",
        brand: "Park Large nylon tote bag",
        price: 725,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/0e/P00636784_b1.jpg",
        name: "MALONE SOULIERS",
        brand: "Perla metallic leather mules",
        price: 379,
        cat: "sandals",
        qty: 1
    },
    {
        img: "https://img.mytheresa.com/560/560/33/jpeg/catalog/product/3b/P00626616_b1.jpg",
        brand: "Sequined minidress",
        name: "STELLA MCCARTNEY",
        price: 925,
        cat: "sandals",
        qty: 1
    }]

    // for (let i=0; i<bagsData.length; i++){
    //     console.log(bagsData[i])
    // }

    let jwlrdata=JSON.parse(localStorage.getItem("womens-bags"))||[]
    document.querySelector("#sort").addEventListener("change",function(){
          sortMe(bagsData)
    })
    function sortMe(bagsData)
    {
        let req = document.querySelector("#sort").value;
        if(req=="asc")
        {
            let asc= bagsData.sort(function(a,b){
                if(a.price>b.price) return 1
                if(a.price<b.price) return -1
                return 0
            })
            displayProducts(asc)
        }
        else if(req=="desc")
        {
            let desc= bagsData.sort(function(a,b){
                if(a.price>b.price) return -1
                if(a.price<b.price) return 1
                return 0
            })
            displayProducts(desc)
        }
    }
    displayProducts(bagsData)
    function displayProducts(bagsData)
    {
        document.querySelector("#display").innerHTML=""
        bagsData.forEach(function(el){
            let child_div=document.createElement("div")
            let holder=document.createElement("div")
            holder.setAttribute("class","holder")
            let wish = document.createElement("button")
            let heart = document.createElement("i")
            heart.setAttribute("class","fas fa-heart")
            wish.append(heart)
            wish.style.color="grey"
            wish.setAttribute("class","btn1")
            wish.addEventListener("click",function(){
                if(toggle(el,wish)==true)
                {
                    alert("Item already extists in wishlist")
                }
                else
                {
                    if(wish.style.color=="grey")
                    {
                      wish.style.color="red"
                    }
                    else
                    {
                      wish.style.color="grey"
                    }
                    jwlrdata.push(el)
                    alert("added")
                    localStorage.setItem("womens-bags",JSON.stringify(jwlrdata))
                }
            })
            holder.append(wish)
            let img = document.createElement("img")
            img.setAttribute("src",el.img)
            let brand = document.createElement("p")
            brand.innerText=el.brand;
            let name=document.createElement("p")
            name.innerText=el.name;
            let price=document.createElement("p")
            price.innerText="€"+" "+el.price;
            child_div.append(holder,img,brand,name,price)
            document.querySelector("#display").append(child_div)
        });
    }
       function toggle(el,wish)
       {
         let filtered= jwlrdata.filter(function(elem){
            return el.name==elem.name
         })
         if(filtered.length>0)
         {
            return true
         }
         else
         {
            return false
         }
       }
    let sorting = document.querySelectorAll("#colour>input")
    for(let i=0;i<sorting.length;i++)
    {
        let c = sorting[i].value
        sorting[i].addEventListener("click",function(){
            colourSort(c)
        })
    }
    function colourSort(c)
    {
        console.log("hi")
       if(c==="All")
        {
            displayProducts(bagsData)
        }
        else
        {
            let filtered=bagsData.filter(function(el){
            return el.color==c
            })
            if(filtered.length==0)
            {
                alert("No products found")
            }
            else
            {
                displayProducts(filtered)
            }
        }
    }
    let sortingBrand = document.querySelectorAll("#designer>input")
    for(let i=0;i<sortingBrand.length;i++)
    {
        let b = sortingBrand[i].value
        console.log(b)
        sortingBrand[i].addEventListener("click",function(){
            brandSort(b)
        })
    }
    function brandSort(b)
    {
       if(b==="All")
        {
            displayProducts(jewelData)
        }
        else
        {
            let brandFilter=bagsData.filter(function(el){
            return el.brand==b
            })
            if(brandFilter.length==0)
            {
                alert("No products found")
            }
            else
            {
                displayProducts(brandFilter)
            }
        }
    }
    let sortingCat = document.querySelectorAll("#category>input")
    for(let i=0;i<sortingCat.length;i++)
    {
        let s = sortingCat[i].value
        sortingCat[i].addEventListener("click",function(){
            catSort(s)
        })
    }
    function catSort(s)
    {
       if(s==="All")
        {
            displayProducts(bagsData)
        }
        else
        {
            let catFilter=bagsData.filter(function(el){
            return el.cat==s
            })
            if(catFilter.length==0)
            {
                alert("No products found")
            }
            else
            {
                displayProducts(catFilter)
            }
        }
    }